### 图像处理基础

---

* 取样和量化

  1. 一个图像可以由一个二元函数$f(x, y)$ 表示，其中，$x,y$分别为其纵坐标和横坐标且取值是连续的。要想转换为数字图像，我们需要对坐标和幅度进行离散化。其中，对坐标进行数字化称之为*取样*；对幅值数字化称之为*量化*

     数字图像的质量取决与取样和量化时使用的样本数和灰度级。

     数字图像同时可以表示为一个矩阵。在矩阵和图像的对应过程中，数字图像的原点处于矩阵的左上角，正$x$轴向下延伸，正$y$ 轴向右延伸。

     令$\Z$ 和 $\R$ 表示整数和实数集合，则取样和量化可以表示为如下的过程：取样可以看作时把$xy$ 平面分为一个网格的过程，网格每个单元中心的坐标$(x, y)\in \Z^2$ ，且$f: \Z^2\mapsto \R$ 是把灰度值赋给每个特定坐标对$(x,y)$ 的函数，则$f(x, y)$ 就是一幅数字图像，若$f$ 的值域是$\Z$， 则这个（赋值）过程同时也是量化的过程。

     数字化过程通常有以下指标：$M,N,L$ 分别为$x,y$的最大值和离散灰度数。$M,N,L$ 必须为正整数，其中$L$ 通常取2的幂。

  2. 图像系统中最大可度量灰度和最小可度量灰度之比称之为图像系统的*动态范围* ，其中上限取决于图像的饱和度，下限取决于噪声。最大灰度与最小灰度值的差称之为*对比度*，当图像有可感知的高动态范围时，我们认为其有高对比度。

* 图像内插

  图像内插时在如放大，收缩，旋转和集几何校正等任务中使用的基本工具，在此简单介绍其在调整图像大小中的应用。

  1. 最近邻内插
  2. 双线性内插
  3. 双三次内插
  4. 样条和小波等其他方法内插

  `OpenCV4`实现 （`prog1`）：

  ​	`OpenCV` 中，调整图像大小的函数为`resize`

  函数原型为：

  ```void resize(InputArray src, OutputArray dst, Size dsize, double fx, double fy, int interpolation=INTER_LINEAR)```

  `src`：输入图片

  `dst`：输出图片

  `dsize`：输出尺寸，当输入为0时，`fx`, `fy` 都不可为0

  `fx`：水平缩放比例

  `fy`：垂直缩放比例

  `interpolation`： 内插方式，可使用的内插方式有：

  1. INTER_NEAREST	最近邻内插
  2. INTER_LINEAR         双线性内插
  3. INTER_AREA            邻域像素再取样内插
  4. INTER_CUBIC           三次样条内插 
  5. INTER_LANCZOS4  Lanczos内插

  缩小图像时，INTER_AREA 效果较好；放大图像时，INTER_CUBIC 效果最好但较慢，INTER_LINEAR 较为均衡。

* 像素之间的一些关系

  1. 相邻像素：对于坐标位于$(x,y)$的像素，有四个水平和垂直的相邻像素：

     $(x+1,y),(x-1,y),(x,y+1),(x,y-1)$,  这组像素称为该像素$p$的4邻域，用$N_4(p)$ 表示；$p$ 的四个对角元素分别为$(x+1,y+1),(x+1,y-1),(x-1,y+1),(x-1,y-1)$ 这四个元素$N_D(p)$与前面四个元素合称为像素$p$ 的8邻域，用$N_8(p)$ 表示。

  2. 邻接，连通，区域，边界：`TODO`

  3. 距离度量：`TODO`

* 数字图像处理中的数学工具

  1. 阵列与矩阵操作

     阵列相加为对应元素直接相加，阵列相乘为对应元素直接相乘；

     矩阵相加与阵列相同，矩阵相乘与阵列不同。

  2. 线性操作与非线性操作

     满足齐次性和叠加性的操作为线性操作，反之为非线性操作。

  3. 算术操作：

     图像间的算术操作是阵列操作。算术操作在对应元素间进行。应注意算术操作两边的图像大小应是相同的（即具有相同的行数和列数）。

     * 一个例子：针对降噪的带噪图像相加：

       无噪声图像$f(x,y)$ 被加性噪声$\eta(x,y)$污染后的图像$g(x, y)=f(x,y)+\eta(x,y)$ 。在此假设在每个坐标上，噪声是不相关的，且均值为0，则有
       $$
       \bar{g}(x,y)=\frac 1 K \sum_{i=1}^K g_i(x,y)
       $$
       随着$K$ 的增大将逐渐逼近$f(x,y)$ （证明详见任一概率论与数理统计课本）

     * 一个例子：增强图像差别的图像相减

     * 一个例子：使用图像相乘和相除来校正阴影

     

  4. 

* 